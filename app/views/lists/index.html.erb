<div class="container mt-3" style="padding: 90px">
  
  <div class="banner">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item picture-small active">

          <% if @lists.first.present? && @lists.first.photo.attached? %>
            <%= cl_image_tag @lists.first.photo.key, alt: "List Picture", class: "d-block w-100" %>
              <div class="carousel-caption d-none d-md-block">
                <h1><%= @lists.first.name %></h1>
              </div>
          <% else %>
            <%= image_tag "girl.jpg", alt: "List Picture", class: "d-block w-100" %>
            <div class="carousel-caption d-none d-md-block">
              <h1>Girl</h1>
            </div>
          <% end %>
        </div>

        <% @lists.drop(1).each do |list| %>
          <div class="carousel-item picture-small">

            <% if list.photo.attached? %>
              <div class="image-size" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path list.photo.key, height: 300, crop: :fill %>')">
              </div>
              <div class="carousel-caption d-none d-md-block">
                <h1><%= list.name %></h1>
              </div>
            <% else %>
                <div class="image-size" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= image_path "girl.jpg", height: 300, crop: :fill %>')">
                </div>
                <div class="carousel-caption d-none d-md-block">
                  <h1>Girl</h1>
                </div>
            <% end %>
          </div>
        <% end %>

      </div>

    </div>

  </div>

  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
  </a>
    
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
  </a>


  <div class="row">
    <% @lists.each do |list| %>
      <div class="col mt-3">
        <div class="card" style="width: 18rem;">

          <% if @lists.first.present? && @lists.first.photo.attached? %>
            <div class="image-size" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path list.photo.key, height: 300, crop: :fill %>')">
            </div>
          <% else %>
            <div class="image-size" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= image_path "girl.jpg", height: 300, crop: :fill %>')">
            </div>
          <% end %>

            <div class="card-body">
              <h5 class="card-title"><%= list.name %></h5>
              <p class="card-text">No. of movies: <%= list.movies.count %></p> 
              <%= link_to 'Show Movies', list, class: "btn btn-primary" %>
              <%= link_to 'Delete List', list, method: :delete, data: { confirm: 'Are you sure?' } %>
            </div>
        </div>
      </div>    
    <% end %>
  </div>
</div>
